// room script file
bool hasSoundBeenPlayedQuit = false;
bool hasSoundBeenPlayedNew = false;
bool hasSoundBeenPlayedLoad = false;
bool hasSoundBeenPlayedOptions = false;
bool hasSoundBeenPlayedCredits = false;

function room_Load()
{
    gCharacterChange.Visible = false;
    gInventory.Visible = false;
    gEndscreen.Visible = false;
    gMainMenu.Visible = true;
    gOptionMenu.Visible = false;

    Mouse.Visible = true;
    Mouse.Mode = eModePointer;
}

function room_AfterFadeIn()
{
    cTitle.Move(1215, 1140, eBlock, eAnywhere);
}

function room_RepExec()
{
  //QUIT GAME
  bool wasOverQuitButton = false;
  bool isOverQuitButton = GUIControl.GetAtScreenXY(mouse.x,  mouse.y) == Button9;
      
      if (isOverQuitButton && !wasOverQuitButton)
      {       
        if (!hasSoundBeenPlayedQuit)
        {
          aButton.Play(); 
          hasSoundBeenPlayedQuit = true;
        }
      }
      else
      {
        aButton.Stop();
        hasSoundBeenPlayedQuit = false;
      }
      
      wasOverQuitButton = isOverQuitButton;
//________________________________________________________________________________
      //NEW GAME
      bool wasOverNewButton = false;
      bool isOverNewButton = GUIControl.GetAtScreenXY(mouse.x,  mouse.y) == Button5;
      
      if (isOverNewButton && !wasOverNewButton)
      {       
        if (!hasSoundBeenPlayedNew)
        {
          aButton2.Play(); 
          hasSoundBeenPlayedNew = true;
        }
      }
      else
      {
        aButton2.Stop();
        hasSoundBeenPlayedNew = false;
      }
      
      wasOverNewButton = isOverNewButton;
      
//________________________________________________________________________________
      //LOAD GAME
      bool wasOverLoadButton = false;
      bool isOverLoadButton = GUIControl.GetAtScreenXY(mouse.x,  mouse.y) == Button6;
      
      if (isOverLoadButton && !wasOverLoadButton)
      {       
        if (!hasSoundBeenPlayedLoad)
        {
          aButton3.Play(); 
          hasSoundBeenPlayedLoad = true;
        }
      }
      else
      {
        aButton3.Stop();
        hasSoundBeenPlayedLoad = false;
      }
      
      wasOverLoadButton = isOverLoadButton;
      
//________________________________________________________________________________
      //OPTIONS
      bool wasOverOptionsButton = false;
      bool isOverOptionsButton = GUIControl.GetAtScreenXY(mouse.x,  mouse.y) == Button7;
      
      if (isOverOptionsButton && !wasOverOptionsButton)
      {       
        if (!hasSoundBeenPlayedOptions)
        {
          aButton4.Play(); 
          hasSoundBeenPlayedOptions = true;
        }
      }
      else
      {
        aButton4.Stop();
        hasSoundBeenPlayedOptions = false;
      }
      
      wasOverOptionsButton = isOverOptionsButton;
      
//________________________________________________________________________________
      //CREDITS
      bool wasOverCreditsButton = false;
      bool isOverCreditsButton = GUIControl.GetAtScreenXY(mouse.x,  mouse.y) == Button8;
      
      if (isOverCreditsButton && !wasOverCreditsButton)
      {       
        if (!hasSoundBeenPlayedCredits)
        {
          aButton5.Play(); 
          hasSoundBeenPlayedCredits = true;
        }
      }
      else
      {
        aButton5.Stop();
        hasSoundBeenPlayedCredits = false;
      }
      
      wasOverCreditsButton = isOverCreditsButton;
}
